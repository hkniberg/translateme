<template name="languages">
    {{> projectInfo}}
    {{> error "languages"}}

    {{#if loading}}
        {{> spinner}}
    {{else}}
        {{#if gitHubError}}
            <h1>This project might be private</h1>

            <p>Either the project doesn't exist, or the project is non-public and you need to sign in.</p>
            <div><a href="/selectProject">Select another project</a></div>
            <div><button class="btn btn-primary gitHubSignInButton">Sign in to GitHub</button></div>

        {{/if}}


        <h1>Translate</h1>

        {{#if projectLanguages}}
            <p>This project is currently available in {{projectLanguagesAsSentence}}.</p>

            {{#if loadingTexts}}
                <p>Loading stuff from github...</p>
                {{> spinner}}
            {{else}}
                <p>What would you like to do?</p>

                <h2>Create a new translation</h2>

                Translate from
                <select class="createFromLanguageCode">
                    {{#each projectLanguages}}
                        <option value="{{languageCode}}">{{languageName}}</option>
                    {{/each}}
                </select>
                to
                <select class="createToLanguageCode">
                    {{#each allLanguagesExceptProjectLanguages}}
                        <option value="{{languageCode}}">{{languageName}}</option>
                    {{/each}}
                </select>
                <div><button class="btn btn-primary createButton">Create a new translation</button></div>

                {{#if hasMoreThanOneLanguage}}

                    <h2>Update an existing translation</h2>

                    Update the translation from
                    <select class="updateFromLanguageCode">
                        {{#each projectLanguages}}
                            <option value="{{languageCode}}">{{languageName}}</option>
                        {{/each}}
                    </select>
                    to
                    <select class="updateToLanguageCode">
                        {{#each projectLanguagesExceptBase}}
                            <option value="{{languageCode}}">{{languageName}}</option>
                        {{/each}}
                    </select>
                    <div><button class="btn btn-primary updateButton">Update the translation</button></div>
                {{/if}}


            {{/if}}


        {{/if}}
    {{/if}}


</template>